Table of Contents
=================
   * [Περιγραφή Εφαρμογής](#περιγραφή-εφαρμογής)
      * [Περιγραφή Παιχνιδιού](#περιγραφή-παιχνιδιού)
      * [Κανόνες Παιχνιδιού](#κανόνες-παιχνιδιού)
      * [Βάση Εφαρμογής](#βάση-εφαρμογής)
      * [Πληροφορίες Εφαρμογής](#πληροφορίες-εφαρμογής)
         * [Κατάσταση Εφαρμογής](#κατάσταση-εφαρμογής)
         * [Λειτουργίες Εφαρμογής](#λειτουργίες-εφαρμογής)
      * [Συντελεστές](#συντελεστές)
         * [Περιγραφή Αρμοδιοτήτων Ομάδας](#περιγραφή-αρμοδιοτήτων-ομάδας)
   * [Περιγραφή API](#περιγραφή-api)
      * [Methods](#methods)
        [//]: # (write)
      * [Entities](#entities)
         * [Board](#-board)
         * [Dominoes](#-dominoes)
         * [Games](#-games)
         * [Game_status](#-gamestatus)
         * [Hands](#-hands)
         * [Players](#-players)


# Demo Page

Μπορείτε να επισκεφτείτε τη σελίδα: 
https://users.iee.ihu.gr/~it185173

# Περιγραφή Εφαρμογής

## Περιγραφή Παιχνιδιού

Το Domino Draw παίζεται ως εξής: 
  Οι παίκτες τοποθετούν με σειρά τα ντόμινο(ή "κόκαλα" όπως ονομάζονται 
μερικές φορές) τους σε έναν πίνακα. 
  Σκοπός κάθε παίκτη είναι να τοποθετήσει πρώτος όλα τα ντόμινο του στον 
πίνακα πριν από τους αντιπάλους του.
  Σε αυτό το παιχνίδι υπάρχουν 28 διαφορετικά ντόμινο με δύο άκρα που 
αντιστοιχούν σε ζάρια.
  Συνεπώς, έχετε τις εικοσιμία διακριτές πιθανές ζαριές, όπως 3-5 και 
6-άρες (6-6) καθώς και άλλες επτά με κενά, όπως 0-4 ή 0-0.

## Κανόνες Παιχνιδιού

Οι κανόνες είναι οι εξής:
  Στην αρχή του παιχνιδιού, οι παίκτες παίρνουν στα χέρια τους πέντε ή 
εφτά (ανάλογα το πλήθος των παικτών) ντόμινο ο καθένας και τα υπόλοιπα 
τοποθετούνται ανάποδα στο τραπέζι, σε αυτό που ονομάζεται “σωρός”. 
  Ο παίκτης που έχει το μεγαλύτερο διπλό (από 6-6, 5-5 και κάτω) παίζει 
πρώτος. Αυτό γίνεται αυτόματα στην αρχή του παιχνιδιού. Στη σπάνια 
περίπτωση που κανένας παίκτης δεν έχει από την αρχή κάποιο διπλό, ο 
παίκτης που έχει το μεγαλύτερο σε συνολικούς πόντους ντόμινο παίζει 
πρώτος, στην περίπτωση ίσων μεγαλύτερων συνολικών πόντων ντόμινο ο 
παίκτης που παίζει πρώτος επιλέγεται τυχαία.
  Στη συνέχεια, σειρά έχει ο δεύτερος παίκτης, ο οποίος μπορεί να 
τοποθετήσει ένα ντόμινο εφόσον έχει μία άκρη που ταιριάζει στο διπλό
(ή σπανίως μονό) που παίχτηκε. Αν δηλαδή ο αντίπαλός σας έχει το 
υψηλότερο διπλό, το 6-6, μπορείτε να παίξετε οποιοδήποτε ντόμινο έχει ένα 
εξάρι (π.χ. 5-6, 3-6). Στον πρώτο γύρο δεν έχει σημασία σε ποια μεριά το 
τοποθετείτε (περισσότερες λεπτομέρειες στην ενότητα της στρατηγικής!).
  Για παράδειγμα, αν ο δεύτερος παίκτης παίξει ένα 5-6, υπάρχουν τώρα δύο 
ανοιχτά άκρα: το ένα με το πέντε και το άλλο με το έξι. Τώρα, ο πρώτος 
παίκτης μπορεί να παίξει ντόμινο με έξι ή με πέντε. Δείτε το παρακάτω 
παράδειγμα όπου ο παίκτης μπορεί να παίξει είτε με 3-6 είτε με 1-5.
  Όταν παίζετε το παιχνίδι, τα ντόμινο που μπορούν να παίξουν εμφανίζονται 
τονισμένα. Υπάρχουν πάντα δύο ανοιχτά άκρα σε αυτό το παιχνίδι. Τα διπλά 
παίζονται αυτόματα σταυρωτά στον πίνακα, το οποίο είναι κοινή πρακτική του 
παιχνιδιού αν και δεν κάνει καμία διαφορά στα ανοιχτά άκρα.
  Εάν σε κάποια φάση του παιχνιδιού δεν μπορείτε να παίξετε το ντόμινο σας, 
θα σας μοιραστεί αυτόματα ένα ή περισσότερα ντόμινο από τον σωρό (δείτε τη 
μικρή εικόνα με το κόκκαλο επάνω αριστερά) μέχρι να πάρετε ένα που μπορείτε 
να τοποθετήσετε σε ένα από τα δύο ανοιχτά άκρα.
  Κατόπιν παίζετε αμέσως αυτό το ντόμινο. Αν δεν μπορείτε να παίξετε και δεν 
υπάρχουν άλλα ντόμινο στον σωρό, τότε η σειρά περνάει στον αντίπαλό σας. Το 
παιχνίδι συνεχίζεται με αυτόν τον τρόπο μέχρι ένας από εσάς να παίξει το 
τελευταίο του ντόμινο (τότε θα έχει γίνει “ντόμινο” στον αντίπαλο) ή κανένας 
παίκτης να μην μπορεί να παίξει κανένα ντόμινο και ο σωρός να είναι άδειος 
(τότε και οι δύο παίκτες είναι “μπλοκαρισμένοι”).
  Βαθμολογία Στο τέλος του γύρου προστίθενται οι κουκκίδες από τα ντόμινο 
που έχουν μείνει για κάθε παίκτη και η διαφορά πιστώνεται στον παίκτη με τους 
λιγότερους πόντους. Για παράδειγμα, ο παίκτης Α παίζει το τελευταίο του ντόμινο 
και ο παίκτης Β έχει μείνει με δύο ντόμινο στο χέρι του: το 4-4 και το 0-3.
  Ο παίκτης Α θα έχει τότε 11 πόντους. Σε άλλο παράδειγμα, δεν υπάρχουν άλλα 
κόκαλα στον σωρό και ο παίκτης Α έχει 5-6, 4-6 και ο παίκτης Β έχει 2-4, 0-2 
και 2-2 (ας υποθέσουμε ότι τα ανοιχτά άκρα ήταν 3 και 1). Ο παίκτης Β θα έχει 
τότε 9 πόντους (21 μείον 12), δηλαδή τη διαφορά των συνολικών πόντων με τους 
δικούς του. Τα παιχνίδια του ντόμινο μπορεί να είναι γρήγορα ή αργά ανάλογα με 
τους πόντους που επιτυγχάνονται από κάθε παίκτη και τα τελικά σκορ στόχους. Τα 
συνηθισμένα παιχνίδια παίζονται μέχρι τους 50 ή 100, οπότε συνήθως παίζονται 
και αρκετοί γύροι ντόμινο.

## Βάση Εφαρμογής

### Η βάση μας κρατάει τους εξής πίνακες:
* board με στοιχεία:
    * Domino
    * Gid
    * Turn
    * Neighbor
    * status
* dominoes με στοιχεία:
    * Did
    * H
    * T
* games με στοιχεία:
    * Gid
    * Pid
    * Score
    * Turn
* game_status με στοιχεία:
    * Gid
    * g_status
    * turn
    * result
    * last_change
    * move1
    * move2
    * pNum
* hands με στοιχεία:
    * Domino
    * Pid
* players με στοιχεία:
    * Name
    * PW
    * W
    * L
    * token

## Πληροφορίες Εφαρμογής

### Κατάσταση Εφαρμογής

Η εφαρμογή αναπτύχθηκε πλήρως.

### Λειτουργίες Εφαρμογής
* Βασικοί λειτουργίες:
    * Πλήρη ανάπτυξη παιχνιδιού (παίζουν human-human, με GUI).
    * Το Project ακολουθεί την αρχιτεκτονική που έχει περιγραφεί στο μάθημα.
    * Αρχικοποίηση σύνδεσης-authentication με password.
    * Έλεγχος κανόνων παιχνιδιού.
    * Αναγνώριση σειράς με την οποία παίζουν οι παίκτες.
    * Αναγνώριση DeadLock (δεν υπάρχει κίνηση ή τέλος παιχνιδιού).
    * Το APΙ χρησιμοποιεί json μορφή για τα δεδομένα.
    * Η κατάσταση του παιχνιδιού αποθηκεύεται πλήρως σε mysql.
    * Ο πρώτος παίκτης αρχικοποιεί το board και περιμένει αντίπαλο όπου χρειάζεται.
    * Δημιουργία GUI για τη γραφική εμφάνιση του board.
* Επιπλέον, δυνατότητες:
    * Πολλά σύγχρονα boards (του ίδιου παιχνιδιού).
    * Καταγραφή Score/πόντων παικτών. Scoreboard.
    * Έλεγχος timeout → ακύρωση παίκτη.

## Συντελεστές

### Περιγραφή Αρμοδιοτήτων Ομάδας

* Κωνσταντινίδης Αλέξιος 185206: HTML, CSS, JavaScript/Jquery/AJAX, Extra(move function in board.php).

* Γούσιος Χρήστος 185173: PHP API, Σχεδιασμός mysql, Extra(login.js, register.js).

# Περιγραφή API

## Methods
[//]: # (write)

## Entities

### Board


Κάθε κίνηση μέσα στα boards έχει τα παρακάτω στοιχεία:


| Attribute  | Description                | Values        |
|------------|----------------------------|---------------|
| `Domino`   | id ντόμινο                 | int(11)       |
| `Gid`      | id παιχνιδιού              | int(11)       |
| `Turn`     | σειρά ντόμινο              | int(11)       |
| `Neighbor` | γείτονας ντόμινο           | int(11)       |
| `status`   | πλευρά τοποθέτησης ντόμινο | enum('H','T') |

### Dominoes

Κάθε ντόμινο έχει τα παρακάτω στοιχεία:


| Attribute | Description         | Values        |
|-----------|---------------------|---------------|
| `Did`     | id ντόμινο          | int(11)       |
| `H`       | 1ος αριθμός ντόμινο | int(11)       |
| `Τ`       | 2ος αριθμός ντόμινο | int(11)       |

### Games

Κάθε παιχνίδι έχει τα παρακάτω στοιχεία:


| Attribute | Description   | Values                |
|-----------|---------------|-----------------------|
| `Gid`     | id παιχνιδιού | int(11)               |
| `Pid`     | id παίκτη     | varchar(20)           |
| `Score`   | score παίκτη  | int(11)               |
| `Turn`    | σειρά παίκτη  | enum('1','2','3','4') |

### Game_status

Κάθε παιχνίδι έχει τα παρακάτω στοιχεία:


| Attribute     | Description               | Values                                                             |
|---------------|---------------------------|--------------------------------------------------------------------|
| `Gid`         | id παιχνιδιού             | int(11)                                                            |
| `g_status`    | κατάσταση παιχνιδιού      | enum('not active','initialized','creating board','aborded','ended' |
| `turn`        | σειρά παίκτη              | varchar(20)                                                        |
| `result`      | νικητή                    | varchar(20)                                                        |
| `last_change` | τελευταία κίνηση          | timestamp                                                          |
| `move1`       | 1η διαθέσιμη κίνηση       | int(1)                                                             |
| `move2`       | 2η διαθέσιμη κίνηση       | int(1)                                                             |
| `pNum`        | πλήθος παικτών παιχνιδιού | enum('2','3','4')                                                  |

### Hands

Κάθε ντόμινο στα χέρια των παικτών έχει τα παρακάτω στοιχεία:


| Attribute | Description | Values      |
|-----------|-------------|-------------|
| `Domino`  | id ντόμινο  | int(11)     |
| `Pid`     | id παίκτη   | varchar(20) |

### Players

O κάθε παίκτης έχει τα παρακάτω στοιχεία:


| Attribute | Description               | Values      |
|-----------|---------------------------|-------------|
| `Name`    | Όνομα παίκτη              | varchar(20) |
| `PW`      | Κωδικός πρόσβασης παίκτη  | text        |
| `W`       | Νίκες παίκτη.             | int(11)     |
| `L`       | Ήττες παίκτη              | int(11)     |
| `token`   | To κρυφό token του παίκτη | text        |